import{D as P,g as y,s as g,c as i,a as l,o as c,b as d,q as p,d as e,e as _,w as m,F as x,x as w,p as C,m as S,B as k,y as u,z as b,n as B}from"./vendor.87dfeb6d.js";import{_ as M,l as V,P as A,A as j}from"./index.cdd866bf.js";import{p as f}from"./ProjectsService.8bd127c2.js";const I={name:"Home",setup(){P(async()=>f.getAllProjects());const r=y({}),o=g();return{editable:r,async createProject(){try{const a=await f.createProject(r.value);o.push({name:"Projects",params:{id:a.id}})}catch(a){V.error(a),A.toast(a.message)}},user:i(()=>j.user),projects:i(()=>j.projects)}}},n=r=>(C("data-v-38887fd7"),r=r(),S(),r),N={class:"container-fluid"},q={key:0,class:"row p-5"},D=n(()=>e("div",{class:"col-12 rounded shdaow bg-light"},[e("h1",{class:"text-center m-5"},"Welcome!"),e("p",{class:"text-center mb-5"},"Please log in or register to use PlanIt.")],-1)),H=[D],E={key:1,class:"row p-5 mx-2"},F={class:"col-12"},T={class:"bg-light row d-flex justify-content-around p-5 shadow rounded"},U=n(()=>e("b",{class:"fs-3 border-bottom border-primary text-primary col-8"},"Projects",-1)),z=n(()=>e("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#myModal",class:"col-2 hoverable btn btn-success"}," Create Project ",-1)),L=B("Create a Project"),R={class:"p-2"},W={class:"d-flex justify-content-end"},G={class:"row p-5"};function J(r,o,a,t,K,O){const v=l("Modal"),h=l("ProjectBanner");return c(),d("div",N,[t.user.isAuthenticated?p("",!0):(c(),d("div",q,H)),t.user.isAuthenticated?(c(),d("div",E,[e("div",F,[e("div",T,[U,z,_(v,{id:"myModal"},{title:m(()=>[L]),body:m(()=>[e("form",{onSubmit:o[3]||(o[3]=k((...s)=>t.createProject&&t.createProject(...s),["prevent"])),class:"row"},[e("div",R,[u(e("input",{required:"","onUpdate:modelValue":o[0]||(o[0]=s=>t.editable.name=s),class:"col-12 p-2 rounded",type:"text",placeholder:"Project name"},null,512),[[b,t.editable.name]]),u(e("input",{required:"","onUpdate:modelValue":o[1]||(o[1]=s=>t.editable.description=s),class:"col-12 p-2 rounded",type:"text",placeholder:"Description"},null,512),[[b,t.editable.description]])]),e("div",W,[e("button",{onClick:o[2]||(o[2]=(...s)=>t.createProject&&t.createProject(...s)),type:"button",class:"btn btn-success","data-bs-dismiss":"modal"}," Create Project ")])],32)]),_:1}),e("div",G,[(c(!0),d(x,null,w(t.projects,s=>(c(),d("div",{key:s.id,class:"col-12 d-flex justify-content-center"},[_(h,{project:s},null,8,["project"])]))),128))])])])])):p("",!0)])}var Z=M(I,[["render",J],["__scopeId","data-v-38887fd7"]]);export{Z as default};
